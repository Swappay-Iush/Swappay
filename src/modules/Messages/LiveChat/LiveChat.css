.container_chat_private{
    display:flex;
    flex-direction:column;
    height:100%;
    width:100%;
    background:linear-gradient(135deg,#fdfdff 0%,#eef4ff 55%,#ffffff 100%);
    border-radius:18px;
    border:1px solid rgba(88,122,255,0.18);
    box-shadow:0 24px 48px rgba(37,58,145,0.16);
    overflow:hidden;
}

.header_chat_private{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:18px;
    padding:18px 26px;
    background:linear-gradient(135deg,#e8eeff 0%,#ffffff 100%);
    border-bottom:1px solid rgba(88,122,255,0.12);
    flex-wrap:wrap;
}

.header_profile_user{display:flex;align-items:center;gap:16px;flex:1 1 260px;min-width:0;}
.header_profile_user img{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid rgba(79,140,255,0.32);}
.header_user_info{min-width:0;display:flex;flex-direction:column;gap:4px;}
.header_user_info h1{margin:0;font-family:"Outfit";font-size:1.18rem;font-weight:600;color:#172046;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}

.chat_back_btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:7px 14px;
    border-radius:999px;
    border:none;
    background:rgba(79,140,255,0.16);
    color:#2b4fb1;
    font-family:"Outfit";
    font-weight:600;
    cursor:pointer;
    transition:background .2s ease,color .2s ease,transform .2s ease;
}

.chat_back_btn:hover{background:rgba(79,140,255,0.24);color:#17327a;transform:translateY(-1px);}
.chat_back_btn svg{font-size:16px;}
.chat_back_btn span{white-space:nowrap;}

.header_actions{display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:flex-end;min-width:fit-content;}
.trade_status_group{display:flex;align-items:center;gap:10px;padding:6px 12px;border-radius:999px;background:rgba(79,140,255,0.12);flex-wrap:wrap;}

.chat_messages_section{
    flex:1;
    display:flex;
    flex-direction:column;
    padding:24px 26px;
    overflow-y:auto;
    min-height:0;
    background:linear-gradient(180deg,#f7f9ff 0%,#ffffff 80%);
}

.chat_messages_list{display:flex;flex-direction:column;gap:14px;padding-bottom:18px;width:100%;}

.chat_message{
    position:relative;
    max-width:72%;
    width:fit-content;
    padding:14px 18px;
    border-radius:18px;
    font-family:"Manrope";
    font-size:0.97rem;
    line-height:1.5;
    color:#1c2a4f;
    background:linear-gradient(135deg,#f4f5f9 0%,#ffffff 100%);
    box-shadow:0 16px 28px rgba(23,33,70,0.14);
    animation:messagePop .28s ease-out;
}

.chat_message.from_me{margin-left:auto;color:#fff;background:linear-gradient(135deg,#4f8cff 0%,#2e6eff 100%);box-shadow:0 18px 32px rgba(79,140,255,0.35);}
.chat_message.from_them{margin-right:auto;text-align:left;}
.chat_message.from_me::after,
.chat_message.from_them::after{content:"";position:absolute;bottom:-2px;width:12px;height:12px;clip-path:polygon(0 0,100% 100%,0 100%);}
.chat_message.from_me::after{right:-4px;background:linear-gradient(135deg,#4f8cff 0%,#2e6eff 100%);}
.chat_message.from_them::after{left:-4px;background:linear-gradient(135deg,#f4f5f9 0%,#ffffff 100%);}

.chat_message.system_message{
    margin:6px auto;
    max-width:80%;
    background:rgba(67,170,139,0.14);
    color:#1d5b4d;
    font-weight:600;
    text-align:center;
    box-shadow:none;
}

.chat_message.image_message{padding:12px;}
.chat_message_content{display:flex;flex-direction:column;gap:8px;}
.chat_message_text{word-break:break-word;}
.chat_message_meta{margin-top:6px;align-self:flex-end;font-size:0.74rem;font-weight:500;color:rgba(28,42,79,0.55);}
.chat_message.from_me .chat_message_meta{color:rgba(255,255,255,0.78);}
.chat_message.from_them .chat_message_meta{color:rgba(28,42,79,0.45);}

.chat_message_media{display:inline-flex;justify-content:flex-start;max-width:100%;border-radius:12px;overflow:hidden;box-shadow:0 18px 30px rgba(24,44,102,0.26);}
.chat_message_media img{display:block;max-width:min(320px,100%);height:auto;object-fit:contain;}
.chat_image_caption{margin:4px 0 0;font-size:0.9rem;line-height:1.4;color:rgba(28,42,79,0.75);}
.chat_message.image_message.from_me .chat_image_caption{color:rgba(255,255,255,0.82);}

.chat_input_section{
    display:flex;
    align-items:center;
    flex-wrap:wrap;
    gap:14px;
    padding:18px 22px;
    background:linear-gradient(180deg,#ffffff 0%,#eef3ff 100%);
    border-top:1px solid rgba(88,122,255,0.12);
    box-shadow:0 -16px 30px rgba(33,54,118,0.12);
}

.chat_media_btn,
.chat_send_btn{
    border:none;
    cursor:pointer;
    transition:transform .2s ease,box-shadow .2s ease,background .2s ease;
}

.chat_media_btn{
    width:44px;
    height:44px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:50%;
    background:radial-gradient(circle at 30% 30%,rgba(79,140,255,0.75),rgba(79,140,255,0.55));
    box-shadow:0 16px 26px rgba(79,140,255,0.28);
}

.chat_media_btn:hover{transform:translateY(-2px);background:radial-gradient(circle at 28% 28%,rgba(79,140,255,0.9),rgba(79,140,255,0.65));}
.chat_media_btn svg{color:#fff;}

.chat_input{
    flex:1;
    min-width:0;
    padding:12px 16px;
    border-radius:14px;
    border:1px solid rgba(79,140,255,0.28);
    background:rgba(255,255,255,0.92);
    font-family:"Manrope";
    font-size:1rem;
    transition:border .2s ease,box-shadow .2s ease;
}

.chat_input:focus{
    outline:none;
    border-color:rgba(79,140,255,0.6);
    box-shadow:0 0 0 3px rgba(79,140,255,0.18);
}

.chat_input:disabled{background:#eaecf2;cursor:not-allowed;box-shadow:none;}

.chat_send_btn{
    padding:12px 22px;
    border-radius:14px;
    background:linear-gradient(135deg,#4f8cff 0%,#2b64ff 100%);
    font-family:"Outfit";
    font-weight:600;
    color:#fff;
    box-shadow:0 18px 32px rgba(79,140,255,0.32);
}

.chat_send_btn:hover{transform:translateY(-2px);}
.chat_send_btn:disabled{background:#9bbdf9;box-shadow:none;cursor:not-allowed;transform:none;}

.chat_reset_container{display:flex;flex-direction:column;align-items:center;gap:10px;padding:12px;}
.chat_reset_btn{padding:9px 24px;border-radius:999px;background:linear-gradient(135deg,#4f8cff 0%,#2e6eff 100%);color:#fff;font-family:"Outfit";font-weight:600;box-shadow:0 12px 22px rgba(79,140,255,0.26);transition:transform .2s ease;}
.chat_reset_btn:hover{transform:translateY(-1px);}

.trade_btn{padding:8px 16px;border-radius:999px;font-family:"Outfit";font-weight:600;box-shadow:0 12px 22px rgba(79,140,255,0.18);}
.trade_btn--primary{background:linear-gradient(135deg,#4f8cff 0%,#2e6eff 100%);color:#fff;}
.trade_btn--success{background:linear-gradient(135deg,#4caf50 0%,#2f9442 100%);color:#fff;}
.trade_btn:disabled{opacity:.8;cursor:not-allowed;box-shadow:none;}
.trade_status_text{font-size:0.78rem;color:#1f345f;font-weight:500;}

.chat_messages_section::-webkit-scrollbar{width:8px;}
.chat_messages_section::-webkit-scrollbar-thumb{background:rgba(79,140,255,0.28);border-radius:999px;}
.chat_messages_section::-webkit-scrollbar-thumb:hover{background:rgba(79,140,255,0.45);}

.chat_typing_indicator{display:flex;align-items:center;gap:6px;font-size:0.85rem;color:rgba(28,42,79,0.65);}
.chat_typing_indicator span{width:6px;height:6px;border-radius:50%;background:rgba(79,140,255,0.5);animation:typingBlink 1s infinite ease-in-out;}
.chat_typing_indicator span:nth-child(2){animation-delay:.15s;}
.chat_typing_indicator span:nth-child(3){animation-delay:.3s;}
@keyframes typingBlink{0%,80%,100%{opacity:.2;}40%{opacity:1;}}

@keyframes messagePop{0%{opacity:0;transform:translateY(18px) scale(.96);}100%{opacity:1;transform:translateY(0) scale(1);}}

@media (max-width:1080px){
    .container_chat_private{border-radius:16px;}
    .header_chat_private{padding:18px 20px;}
    .chat_messages_section{padding:20px;}
    .chat_message{max-width:72%;}
}

@media (max-width:768px){
    .container_chat_private{border-radius:12px;min-height:100%;height:auto;box-shadow:0 16px 32px rgba(37,58,145,0.14);}
    .header_chat_private{flex-direction:row;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px;text-align:left;}
    .header_profile_user{flex:1;gap:12px;align-items:center;}
    .chat_back_btn{padding:6px 12px;border-radius:999px;min-width:0;background:rgba(79,140,255,0.12);}
    .chat_back_btn span{display:inline;}
    .header_actions{display:flex;width:auto;align-items:center;gap:10px;flex-wrap:wrap;}
    .trade_status_group{display:flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:rgba(79,140,255,0.1);}
    .trade_btn{padding:6px 14px;font-size:0.84rem;border-radius:12px;min-width:fit-content;}
    .header_actions .MuiIconButton-root{padding:6px;}
    .trade_status_text{font-size:0.74rem;line-height:1.2;text-align:left;}
    .chat_messages_section{padding:16px 14px;}
    .chat_messages_list{gap:10px;}
    .chat_message{max-width:88%;font-size:0.95rem;}
    .chat_input_section{padding:14px 14px;gap:12px;}
    .chat_media_btn{width:36px;height:36px;}
}

@media (max-width:520px){
    .header_chat_private{flex-direction:column;align-items:stretch;gap:6px;padding:8px 12px 10px;text-align:left;}
    .header_profile_user{flex:1;gap:8px;justify-content:flex-start;align-items:center;}
    .header_profile_user img{width:34px;height:34px;}
    .chat_back_btn{padding:6px;border-radius:10px;min-width:32px;justify-content:center;background:rgba(79,140,255,0.12);}
    .chat_back_btn span{display:none;}
    .header_user_info h1{font-size:0.96rem;text-align:left;}
    .header_actions{width:100%;display:grid;grid-template-columns:1fr auto;align-items:center;gap:6px;margin-top:2px;}
    .trade_status_group{display:flex;align-items:center;justify-content:flex-start;gap:6px;padding:0;background:transparent;flex-wrap:wrap;}
    .trade_btn{flex:0 0 auto;padding:6px 12px;font-size:0.8rem;border-radius:12px;box-shadow:0 10px 18px rgba(79,140,255,0.22);}
    .chat_send_btn{width:100%;}
    .header_actions .MuiIconButton-root{justify-self:end;padding:6px;}
    .trade_status_text{text-align:left;font-size:0.7rem;line-height:1.2;}
    .chat_messages_section{padding:10px 8px;}
    .chat_messages_list{gap:8px;}
    .chat_message{max-width:94%;padding:12px 16px;}
    .chat_message_media img{max-width:min(220px,100%);}
    .chat_input_section{padding:10px 9px;gap:9px;}
    .chat_media_btn{width:32px;height:32px;}
}

@media (max-width:360px){
    .header_profile_user{gap:6px;}
    .header_user_info h1{font-size:0.9rem;}
    .chat_messages_section{padding:8px 6px;}
    .chat_message{max-width:96%;font-size:0.9rem;}
    .chat_input_section{padding:9px 6px;gap:7px;}
    .chat_media_btn{width:28px;height:28px;}
    .chat_send_btn{padding:10px 16px;}
}


@media (prefers-reduced-motion:reduce){
    .chat_message{animation:none;}
    .chat_back_btn,
    .chat_media_btn,
    .chat_send_btn,
    .chat_reset_btn,
    .trade_btn{transition:none;}
}


